#!/bin/bash
# bootstrap-claude: Set up 6 iTerm2 panes with named/colored Claude agents
#
# Layout (distinct muted backgrounds):
#   Window 1: gray (~/dev) | brown (~/dev/pax)
#   Window 2: blue (~/dev/pax-agent1) | red (~/dev/pax-worktrees)
#   Window 3: green (~/dev/cameron-musings) | purple (~/dev/personal-tools)

osascript <<'APPLESCRIPT'
tell application "iTerm2"
    activate

    -- Create Window 1 with vertical split (white | badge)
    set win1 to (create window with default profile)
    tell win1
        tell current session of current tab
            -- Configure gray agent
            set name to "gray"
            set variable named "user.badge" to "GRAY"
            set background color to {8738, 8738, 8738}
            set foreground color to {65535, 65535, 65535}
            write text "cd ~/dev && clear && claude"

            -- Create vertical split for badge agent
            set badgeSession to (split vertically with default profile)
        end tell

        tell badgeSession
            -- Configure brown agent
            set name to "brown"
            set variable named "user.badge" to "BROWN"
            set background color to {10794, 7710, 5140}
            set foreground color to {65535, 65535, 65535}
            write text "cd ~/dev/pax && clear && claude"
        end tell
    end tell

    -- Create Window 2 with vertical split (blue | red)
    set win2 to (create window with default profile)
    tell win2
        tell current session of current tab
            -- Configure blue agent
            set name to "blue"
            set variable named "user.badge" to "BLUE"
            set background color to {3855, 5140, 12850}
            set foreground color to {65535, 65535, 65535}
            write text "cd ~/dev/pax-agent1 && clear && claude"

            -- Create vertical split for red agent
            set redSession to (split vertically with default profile)
        end tell

        tell redSession
            -- Configure red agent
            set name to "red"
            set variable named "user.badge" to "RED"
            set background color to {12850, 3855, 3855}
            set foreground color to {65535, 65535, 65535}
            write text "cd ~/dev/pax-worktrees && clear && claude"
        end tell
    end tell

    -- Create Window 3 with vertical split (green | purple)
    set win3 to (create window with default profile)
    tell win3
        tell current session of current tab
            -- Configure green agent
            set name to "green"
            set variable named "user.badge" to "GREEN"
            set background color to {3855, 10280, 5140}
            set foreground color to {65535, 65535, 65535}
            write text "cd ~/dev/cameron-musings && clear && claude"

            -- Create vertical split for purple agent
            set purpleSession to (split vertically with default profile)
        end tell

        tell purpleSession
            -- Configure purple agent
            set name to "purple"
            set variable named "user.badge" to "PURPLE"
            set background color to {10280, 3855, 12850}
            set foreground color to {65535, 65535, 65535}
            write text "cd ~/dev/personal-tools && clear && claude"
        end tell
    end tell

end tell
APPLESCRIPT

echo "âœ“ Launched 6 Claude agent panes across 3 windows"
